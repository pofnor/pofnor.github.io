<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <meta name="keywords" content="HTML, CSS, Responsive, JavaScript , JS, Exercise">
    <meta name="description" content="Website for exercise JavaScript">
    <meta name="author" content="Ahmad Mokhtari">         
    <link rel="shortcut icon" href="../img/icon-logo.ico" type="image/x-icon">     
    <title>JavaScript Class Exercise</title>    
    <!-- css -->  
    <link rel="stylesheet" href="../css/main.css">
    <!-- JavaScript -->
    <script src="../js/main.js"></script>
    <script src="../js/menu.js"></script>
    <script src="js/jsClassSession6.js"></script>
</head>
<body>

  <aside id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="../../index.html">Home</a>
    <script>menuFilter(menuItem,"jsClass");</script>    
  </aside>

  <main id="main">
    <span class="span" onclick="openNav()">&#9776; Menu</span>
    <section class="container"> 
      <img id="randomHi" style="width: 90px;margin: auto;"src="img/Hi4.png" alt="Hi">      
      <h1 id="randomColor">Random Color</h1>
      <a class="btnAnswer" style="margin: auto;" onclick="date()">Date</a>
      <h1 id="date" style="text-align: center;"></h1>
      <script>randomHi();randomColor()</script>
      <h1>Enter <span>ctrl+shift+j</span> to see output</h1>
      <!------------------------------ Code Section ------------------------------>
      <section class="code">
        <p>Write a function that takes a number(n) and return an array that 
          output values are from one to n.(while)</p>      
        <code class="codeShow">
          function makeArrayOfNumber(n){<br>  
             &nbsp let i = 1;<br>
             &nbsp let array = [];<br>
             &nbsp while(i<=n){<br>
             &nbsp&nbsp  array.push(i);<br>
             &nbsp&nbsp  i++;<br>
             &nbsp }<br>
             &nbsp return array;<br>
          }<br>
        </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          makeArrayOfNumber(10) = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>      
      <section class="code">
        <p>Use the above output array and slice it by three and 
          use rest and spread operator to move the pieces.</p>      
        <code class="codeShow">
          function slice3(result){<br>
            &nbsplet sliceSize = Math.trunc(+(result.length) / 3);<br>
            &nbsplet s1 = result.slice(0,sliceSize);<br>
            &nbsplet s2 = result.slice(sliceSize,sliceSize*2);<br>
            &nbsplet s3 = result.slice(sliceSize*2);<br>
            &nbsp<br>
            &nbsplet x = Math.floor((Math.random() * 3) + 1);<br>
            &nbsplet output;<br>
            &nbspswitch(x){<br>
            &nbsp  case 1 : <br>
            &nbsp&nbsp    output = [...s1,...s3,...s2];<br>
            &nbsp&nbsp    break;<br>
            &nbsp  case 2 :<br>
            &nbsp&nbsp    output = [...s2,...s1,...s3];<br>
            &nbsp&nbsp    break;<br>
            &nbsp  case 3 :<br>
            &nbsp&nbsp    output = [...s3,...s2,...s1];<br>
            &nbsp}<br>
            &nbspreturn output;<br>
          }<br>
        </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          [7, 8, 9, 10, 4, 5, 6, 1, 2, 3]
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>      
      <section class="code">
        <p>Determining <span>this</span> (call-site)<br>          
          1. Is the function called with new (new binding)? If so, <span>this</span> is the newly constructed
          object.<br>          
        <code class="codeShow">
          function foo(a) {<br>
            &nbsp&nbspthis.a = a;<br>
            }<br>
            var bar = new foo( 2 );<br>
            console.log( bar.a );<br>
          </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          2
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>
      <section class="code">
        <p>Determining <span>this</span> (call-site)<br>        
          2. Is the function called with call or apply (explicit binding), even hidden inside a
          bind hard binding? If so, <span>this</span> is the explicitly specified object.<br>
        <code class="codeShow">
          function foo() {<br>
            &nbsp&nbspconsole.log( this.a );<br>
            }<br>
            var obj = {<br>
              &nbsp&nbspa: 2<br>
            };<br>
            foo.call( obj );<br>
          </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          2
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>  
      <section class="code">
        <p>Determining <span>this</span> (call-site)<br>        
          2. Hard Binding
        <code class="codeShow">
          function foo(something) {<br>
            &nbsp&nbspconsole.log( this.a, something );<br>
            &nbsp&nbspreturn this.a + something;<br>
            }<br>
            var obj = {<br>
              &nbsp&nbspa: 2<br>
            };<br>
            var bar = foo.bind( obj );<br>
            var b = bar( 3 );<br>
            console.log( b );<br> 
          </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          2  3<br>
          5
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>  
      <section class="code">
        <p>Determining <span>this</span> (call-site)<br>                    
          3. Is the function called with a context (implicit binding), otherwise known as an owning
          or containing object? If so, <span>this</span> is that context object.<br>
          Note:<br>
          Whatever you choose to call this pattern, at the point that foo() is called, it's preceded by
          an object reference to obj . When there is a context object for a function reference, the
          implicit binding rule says that it's that object which should be used for the function call's
          this binding.
        <code class="codeShow">
          function foo() {<br>
            &nbsp &nbspconsole.log( this.a );<br>
            }<br>
            var obj = {<br>
            &nbsp &nbspa: 2,<br>
            &nbsp &nbspfoo: foo<br>
            };<br>
            obj.foo();<br><br><br>
            function foo1() {<br>
              &nbsp&nbspconsole.log( this.a );<br>
              }<br>
              var obj2 = {<br>
                &nbsp&nbspa: 42,<br>
                &nbsp&nbspfoo: foo1<br>
              };<br>
              var obj1 = {<br>
                &nbsp&nbspa: 2,<br>
                &nbsp&nbspobj2: obj2<br>
              };<br>
              obj1.obj2.foo();<br>
          </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          2<br>
          42
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>  
      <section class="code">
        <p>Determining <span>this</span> (call-site)<br>        
          4. Otherwise, default the <span>this</span> (default binding). If in strict mode , pick undefined ,
          otherwise pick the global object.<br>
        <code class="codeShow">
          function foo() {<br>
            &nbsp&nbspconsole.log( this.a );<br>
            }<br>
            var a = 2;<br>
            foo();<br>
          </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          2
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>  
      <section class="code">
        <p>Determining <span>this</span> (call-site)<br>          
          Exception :<br>
          arrow-functions adopt the <span>this</span> binding from the enclosing (function or global) scope.<br>
          arrow functions do not have <span>this</span>. If <span>this</span> is accessed, it is taken from the outside.</p>
        <code class="codeShow">
          function foo1() {<br>  
            &nbsp&nbspreturn function (a) {<br>
              &nbsp&nbsp&nbsp&nbspconsole.log( this.a );<br>
              &nbsp&nbsp};<br>
          }<br>
          function foo() {<br>
            &nbsp&nbsp// return an arrow function<br>
            &nbsp&nbspreturn (a) => {<br>
              &nbsp&nbsp&nbsp&nbsp// `this` here is lexically adopted from `foo()`<br>
              &nbsp&nbsp&nbsp&nbspconsole.log( this.a );<br>
              &nbsp&nbsp};<br>
          }<br>
          var obj1 = {<br>
            &nbsp&nbspa: 2<br>
          };<br>
          var obj2 = {<br>
            &nbsp&nbspa: 3<br>
          };<br>
          var bar = foo.call( obj1 );<br>
          var bar1 = foo1.call( obj1 );<br>
          bar.call( obj2 );<br>
          bar1.call( obj2 );<br>
        </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          2<br>
          3
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>        
      <section class="code">
        <p>Losing <span>this</span><br>          
          One of the most common frustrations that <span>this</span> binding creates is when an implicitly bound
          function loses that binding, which usually means it falls back to the default binding, of either
        the global object or "undefined" , depending on "strict mode" .
        <code class="codeShow">
          function foo() {<br>
            &nbsp&nbspconsole.log( this.a );<br>
            }<br>
            var obj = {<br>
              &nbsp&nbspa: 2,<br>
              &nbsp&nbspfoo: foo<br>
            };<br>
            var bar = obj.foo; // function reference/alias!<br>
            var a = "oops, global"; // `a` also property on global object<br>
            bar(); 
        </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          "oops, global"
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>
      <section class="code">
        <p>Losing <span>this</span><br>          
          Callback function
        <code class="codeShow">
          function foo() {<br>
            &nbsp&nbspconsole.log( this.a );<br>
            }<br>
            var obj = {<br>
              &nbsp&nbspa: 2,<br>
              &nbsp&nbspfoo: foo<br>
            };<br>
            var a = "oops, global"; // `a` also property on global object<br>
            setTimeout( obj.foo, 100 );<br>
          </code>
        <h1 class="question">Show Output</h1>      
        <samp class="output">
          "oops, global"
        </samp>      
      </section>
      <!------------------------------ Code Section ------------------------------>   
    </section>              
  </main>
  <script>load();event()</script>
</body>
</html>
